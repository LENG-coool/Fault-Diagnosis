---
prev: false
next: false
---

# 文章综述：TSRF 故障诊断框架 {#overall-top}

<br>

::: info 论文推荐
**文献**：*Thermodynamic Simulation-assisted Random Forest: Towards explainable fault diagnosis of combustion chamber components of marine diesel engines*, **Measurement**, 2024.
:::

## 引言 {#引言}
在船用柴油机燃烧室故障诊断中，我们经常面临三个现实困境：
1. **样本匮乏**：真正的故障样本极少，深度学习难以进行有效训练。
2. **机理落地难**：纯物理模型过于复杂，难以直接应用于实时工程环境。
3. **黑箱困境**：传统 AI 模型给出结论，却无法解释其背后的物理依据。

本文介绍了一种“反直觉”但有效的思路：**不是用数据拟合物理，而是让物理“教会”机器学习如何判断故障。** 
基于这一思路，该文章提出了**Thermodynamic Simulatio-assisted Random Forest（TSRF）**，一种融合热力学仿真辅助随机森林与可解释性故障诊断框架。

## 技术路线与实施步骤 {#路线}
该框架（TSRF）融合了热力学机理与可解释机器学习，具体步骤如下：

1. **模型构建与校准**：
   首先，建立船用柴油机一维热力学模型，并利用数据采集模块（DCM）获取的实际数据校准模型，确保模型的准确性。

2. **多故障仿真**：
   其次，对船用柴油机燃烧室建模参数进行微调，进而实现燃烧室缸盖裂纹、活塞烧蚀、缸套磨损、活塞环磨损、活塞环卡死这五种故障的仿真，并分析其故障机理和物理原理。
3. **SHAP 特征精炼**：
   然后，从故障仿真输出中筛选具有潜在诊断意义的热力学参数组成初步数据集，将数据集输入随机森林进行预识别，让模型初步学习参数和故障之间的关联，得到参数经过随机森林以后的预测得分，进而计算出参数的边际贡献。再采用Tree SHAP方法，计算SHAP值定量评估各参数的贡献权重，生成精炼数据集，随后重新通过随机森林模型进行分析，以确保诊断的准确率。SHAP在这里不是解释结果，而是反过来决定“哪些参数值得被监控”。
4. **分类与解释**：
   最后，将筛选后的参数通过随机森林（RF）进行分类，确定其故障种类,并借助热力学模型提供机理基础和物理可解释性。


## 结果展示 {#结果}
以活塞环磨损（F4）为例，文章同时从单样本视角和全局视角观察模型决策过程：
<img src="/en图片2.png" style="width: 100%; margin: 0 auto; display: block;" />
### 1. 单样本视角：瀑布图 (图a) {#waterfall}
* **逻辑起始**：从底部的模型输出期望值 $E[f(x)]$ 开始推导。
* **贡献量化**：红色表示正向贡献（增加故障概率），蓝色表示负向影响（减少故障概率）。
* **最终决策**：$f(x)$ 即为所有参数贡献的代数和，清晰展示了模型为何判定该样本为 F4 故障。

### 2. 全局视角：蜂群图 (图b) {#beeswarm}
* **特征权重**：纵轴按重要性排列，展示哪些参数占据主导地位，参数越靠上，对故障判定的作用越重要。
* **分布密度**：点的水平分布反映影响程度，颜色深浅表示参数原始值的高低，红色说明参数取值高，蓝色说明取值低。

> **核心发现**：在 F4 故障中，**窜气热流**和**缸套换热量**表现出显著的异常规律，这与物理机理中“活塞环密封退化”导致的系统响应高度一致。



## 方法对比 {#对比}
经过与 KNN、SVM 等传统算法的对比，TSRF 框架展现出显著优势：
* **高精度与物理一致性**：在多种选择方法中，仅SHAP能同时保证分类精度并符合热力学规律。
* **相似故障区分**：对故障F4与故障F5等高度相似的故障仍具备极强的辨析能力。
* **工程可解释性**：使模型从“黑盒”变为“白盒”，增强了工程人员对诊断结论的信任。